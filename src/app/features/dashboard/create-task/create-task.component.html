<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6 bg-slate-100 p-5 max-w-md m-auto" >
  <!-- Title Input -->
  <div class="w-full">
    <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
    <input
      id="title"
      formControlName="title"
      type="text"
      class="input w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300"
      placeholder="Enter Task Title"
    />
    @if(form.controls.title.errors && form.controls.title.touched) {
      <div class="mt-2 text-sm text-red-500">Title is required</div>
    }
  </div>

  <!-- Description Input -->
  <div class="w-full">
    <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
    <input
      id="description"
      formControlName="description"
      type="text"
      class="input w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300"
      placeholder="Enter Task Description"
    />
    @if(form.controls.description.errors && form.controls.description.touched) {
      <div class="mt-2 text-sm text-red-500">Description is required</div>
    }
  </div>

  <!-- Priority Select -->
  <div class="w-full">
    <label for="priority" class="block text-sm font-medium text-gray-700">Priority</label>
    <select
      id="priority"
      formControlName="priority"
      class="select w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
    >
      @for (priority of priorities; track priority.value) {
        <option [value]="priority.value">{{ priority.label }}</option>
      }
    </select>
  </div>

  <!-- Due Date Input -->
  <div class="w-full">
    <label for="dueDate" class="block text-sm font-medium text-gray-700">Due Date</label>
    <input
      id="dueDate"
      formControlName="dueDate"
      type="date"
      class="input w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300"
    />
    @if(form.controls.dueDate.errors && form.controls.dueDate.touched) {
      <div class="mt-2 text-sm text-red-500">Due date is required</div>
    }
  </div>

  @if (form.errors?.['root']) {
    <div class="text-red-500 text-sm">
      {{ form.errors?.['root'] }}
    </div>
  }

  <!-- Submit Button -->
  <div class="w-full">
    <button type="submit" [disabled]="isLoading" hlmBtn class="mt-3 w-full">
      {{ isLoading ? 'Loading...' : 'Create Task' }}
    </button>
  </div>
</form>
